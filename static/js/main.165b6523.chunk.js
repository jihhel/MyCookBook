(this.webpackJsonpweb_cook_book=this.webpackJsonpweb_cook_book||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(22),i=n.n(s),u=(n(30),n(31),n(23)),l=n(3),o=n(9),j=n.n(o),h=(n(38),n(13)),m=n.n(h),b=n(14),d=n(10),v=(n(40),n(8)),f=n(12);var O=function(){function e(t,n,a){Object(v.a)(this,e),this.name=void 0,this.ingredients=void 0,this.url=void 0,this.name=t,this.ingredients=n,this.url=a}return Object(f.a)(e,[{key:"matchesPattern",value:function(e){console.log("recipe",this);var t,n,a=(t=this.ingredients,n=function(t){return t.matchesPattern(e)},0!==t.filter(n).length);return this.name.includes(e)||a}},{key:"matchesPatterns",value:function(e){return t=e,n=this.matchesPattern.bind(this),t.filter(n).length===t.length;var t,n}},{key:"printIngredients",value:function(){return this.ingredients.map((function(e){return e.name.value})).join(", ")}}]),e}();var p=function(){function e(t,n){Object(v.a)(this,e),this.name=void 0,this.seasonality=void 0,this.name=t,this.seasonality=n}return Object(f.a)(e,[{key:"isAvailableIn",value:function(e){return 0!==this.seasonality.filter((function(t){return t.name.includes(e)})).length}},{key:"matchesPattern",value:function(e){return this.name.includes(e)||this.isAvailableIn(e)}}]),e}();n(41),n(42);function x(e){var t=e.className,n=e.text,c=e.onClick;return Object(a.jsx)("button",{className:"default-button ".concat(t),onClick:c,children:n})}function N(e){return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"details",children:[Object(a.jsx)("span",{className:"title",children:e.name.value}),Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:[" Ingr\xe9dients : ",e.printIngredients(),"."]})})]}),Object(a.jsx)(x,{className:"button",text:"VOIR LA RECETTE",onClick:function(){return window.open(e.url,"_blank")}})]})}var g=function(){function e(t){Object(v.a)(this,e),this.value=void 0,this.lower=void 0,this.value=t,this.lower=t.toLowerCase()}return Object(f.a)(e,[{key:"includes",value:function(e){return this.lower.includes(e)}}]),e}(),y=(n(21),{January:{name:"janvier",value:1},February:{name:"f\xe9vrier",value:2},March:{name:"mars",value:3},April:{name:"avril",value:4},May:{name:"mai",value:5},June:{name:"juin",value:6},July:{name:"juillet",value:7},August:{name:"ao\xfbt",value:8},September:{name:"septembre",value:9},October:{name:"octobre",value:10},November:{name:"novembre",value:11},December:{name:"d\xe9cembre",value:12}}),w=[y.January,y.February,y.March,y.April,y.May,y.June,y.July,y.August,y.September,y.October,y.November,y.December];var k="http://localhost:8080";function C(e){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"?aqt=".concat(t):"",e.abrupt("return",fetch("".concat(k,"/marmiton").concat(n),{headers:{"access-control-allow-origin":k}}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){var t=e.ingredients.map((function(e){return new p(new g(e),w)}));return new O(new g(e.name),t,e.url)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){var e=new p(new g("Farine"),[]),t=new g("B\xe9chamel v\xe9g\xe9tale"),n=[new O(t,[e],"http://marmiton.fr")],r=Object(c.useState)(n),s=Object(d.a)(r,2),i=s[0],u=s[1],l=Object(c.useState)(""),o=Object(d.a)(l,2),j=o[0],h=o[1];function v(){return(v=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(j);case 2:f(e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){var t=function(e,t){var n=t.split(" ").map((function(e){return e.trim()})).filter((function(e){return e.length>0}));return e.filter((function(e){return e.matchesPatterns(n)}))}(n,j);u(t.concat(e))}return Object(a.jsx)("div",{className:"mainContainer",children:Object(a.jsxs)("div",{className:"desktopCentralColumn",children:[Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("span",{className:"mainTitle",children:"Biblioth\xe8que de recettes \ud83e\udd5e"})}),Object(a.jsxs)("div",{className:"researchContainer",children:[Object(a.jsx)("span",{className:"researchLabel",children:"Chercher une recette"}),Object(a.jsxs)("div",{className:"searchBar",children:[Object(a.jsx)("input",{type:"text",className:"searchInput",onChange:function(e){return h(e.target.value)},value:j}),Object(a.jsx)("button",{className:"searchButton",onClick:function(){return v.apply(this,arguments)},color:"#FFF",children:"CHERCHER !"})]})]}),Object(a.jsx)("div",{className:"searchResults",children:i.map((function(e){return Object(a.jsx)("div",{children:N(e)},e.name.toString())}))})]})})}n(43);var J=function e(t,n){Object(v.a)(this,e),this.date=void 0,this.recipe=void 0,this.date=t,this.recipe=n},A=n(18),E=n.n(A);function F(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(Object(A.utils)("en").getToday()),i=Object(d.a)(s,2),u=i[0],l=i[1],o=Object(c.useState)(""),j=Object(d.a)(o,2),h=j[0],m=j[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("menus");if(e){var t=JSON.parse(e);t&&r(t)}}),[]),Object(c.useEffect)((function(){var e=JSON.stringify(n);localStorage.setItem("menus",e)}),[n]),Object(a.jsx)("div",{className:"mainContainer",children:Object(a.jsxs)("div",{className:"desktopCentralColumn",children:[Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("span",{className:"mainTitle",children:"On fait son menu"})}),Object(a.jsxs)("div",{className:"addMenu",children:[Object(a.jsx)(E.a,{value:u,onChange:function(e){return l(e)}}),Object(a.jsx)("input",{type:"text",className:"menuInput",onChange:function(e){return m(e.target.value)},value:h}),Object(a.jsx)("button",{className:"createMenuButton",onClick:function(){var e=new J(u,h);n.push(e),r(n)},children:"Cr\xe9er"})]}),0===n.length?Object(a.jsx)("span",{children:"Aucun menu cr\xe9\xe9 pour le moment !"}):Object(a.jsx)("div",{className:"menus",children:n.map((function(e){return console.log("menu",e),Object(a.jsx)("div",{className:"menu",children:Object(a.jsxs)("span",{children:["Recette : ",e.recipe]})},e.recipe.toString())}))})]})})}var T=function(){return Object(a.jsx)(u.a,{children:Object(a.jsx)(l.a,{render:function(e){var t=e.location,n=e.history;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)(j.a,{onSelect:function(e){var a="/"+e;t.pathname!==a&&n.push(a)},children:[Object(a.jsx)(j.a.Toggle,{}),Object(a.jsxs)(j.a.Nav,{defaultSelected:"home",children:[Object(a.jsxs)(o.NavItem,{eventKey:"library",children:[Object(a.jsx)(o.NavIcon,{children:Object(a.jsx)("i",{className:"fas fa-book-open",style:{fontSize:"1.75em"}})}),Object(a.jsx)(o.NavText,{children:"Recettes"})]}),Object(a.jsxs)(o.NavItem,{eventKey:"menu",children:[Object(a.jsx)(o.NavIcon,{children:Object(a.jsx)("i",{className:"far fa-calendar-alt",style:{fontSize:"1.75em"}})}),Object(a.jsx)(o.NavText,{children:"Faire son menu"})]})]})]}),Object(a.jsxs)("main",{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:function(e){return Object(a.jsx)(I,{})}}),Object(a.jsx)(l.a,{path:"/library",component:function(e){return Object(a.jsx)(I,{})}}),Object(a.jsx)(l.a,{path:"/menu",component:function(e){return Object(a.jsx)(F,{})}})]})]})}})})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.165b6523.chunk.js.map